# 코딩 스타일(서식)

###### 잘 작성된 코드에서 볼 수 있는 공통적인 속성

1. 문서화

2. 분할

3. 명명 규칙

4. 언어 사용

5. 포매팅



## 1. 문서화

- 주석의 정보 

  - 소스 파일에 작성된 주석

  > - 함수 이름만 봐도 알 수 있는 '함수의 의미', 매개변수에 대한 설명 등 특별히 새로운 정보를 제공하지 않는 주석은 작성 필요성이 떨어진다.
  >
  > - 함수에 전달할 매개변수나 함수가 리턴하는 값이 거의 모든 종류의 정보를 전달할 수 있을 정도로 광범위한 경우 구체적으로 어떤 값을 전달하는지 작성한다.
  >
  > - 발생 가능한 익셉션(예외) 에 대한 설명을 작성한다

  - 소스 알고리즘을 설명하는 주석

  > 코드에서 사용하는 알고리즘을 개략적으로 설명하는 주석을 함수 앞에 달고, 코드 중간에 이해하지 힘든 부분마다 인라인 주석을 다는 형식으로 작성한다.

  - 메타 정보를 제공하는 주석

  > - 코드 내용과는 다른 차원의 정보를 제공하기 위한 목적으로 다는 주석이다.
  > - 코드의 구체적인 동작에 대해서는 표현하지 않고, 코드 생성과 관련된 세부사항(저자, 작성일, 기능 및 버전, 변경내역 등)만 작성한다.



- 주석 스타일

  - 문장단위 주석

  > - 문서화에 소홀하지 않는 한 가지 방법은 모든 문장에 주석을 작성하는 것이다.
  > - 모든 문장단위 주석은 끝선을 맞춰서 가독성을 좋게 작성한다.
  > - 코드를 그대로 번역하지 말고 앞에 나온 예제처럼 코드의 작성 의도를 설명한다.

  - 머리말 주석

  > 소스 파일의 첫 머리에 남기면 좋은 정보는 메타 정보이다.

  - 고정 양식 주석

  > - C++ 프로그래머는 여러가지 문서를 자동으로 생성해주는 [Doxygen](www.doxygen.org) 이란 무료 툴을 많이 사용한다.
  > -  Doxygen은 C++ 문법뿐만 아니라 @param과 @return 같은 특수한 주석 지시자를 인식하여 커스터마이즈 할 수 있는 형태로 출력한다.
  > - 이러한, 자동으로 문서를 생성하는 도구를 사용하더라도 의미 없는 주석이 담기지 않도록 주의하자.

  - 임의 주석

  > - 정해진 형식과 관계없이 필요할 때마다 주석을 달 때가 있다. 이런 주석을 작성할 때는 다음과 같은 가이드라인을 따른다.
  >
  > - 주석을 작성하기 전에 굳이 주석을 달 필요가 없도록 코드를 수정할 수 없는지 검토한다.
  >
  > - 누군가 내가 작성한 코드를 읽고 있다고 생각하여 쉽게 이해할 수 없는 부분마다 주석을 남긴다.
  >
  > - API를 사용하는 과정이 명확하지 않다면 사용한 API에 대한 참고 문헌을 남긴다.
  >
  > - 
  >
  >   한 함수를 여러 부분으로 나누기 위해 주석을 작성할 때 그 함수를 더 작은 단위의 함수로 나눌 수 없는지 검토한다.

  - 주석이 필요없는 코드

  > - 함수, 매개변수, 변수, 클래스가 각각의 역할이 잘 드러나도록 이름이 갖추도록 한다.  (`변수`: 명사        `함수 및 클래스`: 동사 or 목적어)
  >
  > - 수정이 안 되는 변수를 const로 지정한다.
  > - 알고리즘을 좀 더 이해하기 쉽도록 이름을 잘 정한 중간 단계의 변수를 추가한다.



## 2. 분할

- 코드 분할: 코드를 더 작은 단위로 나눠서 작성하는 방식이다. 

  가장 바람직한 형태는 함수나 메소드마다 한 가지 작업만 수행하는 것이다.

  - 리팩토링을 통한 코드 분할 (코드의 구조를 재조정하여 분할)

  > - 추상화 수준을 높이는 기법
  >   - 필드 캡슐화: 필드를 private로 설정하고 게터(접근자)나 세터(설정자) 메소드로 접근하게 만든다.
  >   - 타입 일반화: 코드를 좀 더 공유할 수 있도록 좀 더 일반적인 타입을 사용한다.
  > - 코드를 좀 더 논리적으로 분할하는 기법
  >   - 메소드 추출: 거대한 메소드를 좀 더 이해하기 쉽도록 일부를 뽑아내서 새로운 메소드로 정의한다.
  >   - 클래스 추출: 기존 클래스에 있는 코드 중 일부를 새 클래스로 옮긴다.
  > - 명칭과 위치를 개선하는 방법
  >   - 메소드 및 필드 이동: 좀 더 적합한 클래스나 소스 파일로 이동한다.
  >   - 메소드 및 필드 이름 변경: 목적이 잘 드러나도록 이름을 바꾼다.
  >   - 올리기: OOP에서 기본(베이스) 클래스로 옮기는 기법
  >   - 내리기: OOP에서 상속(확장) 클래스로 옮기는 기법
  >
  > 코드를 리팩토링 하는 과정에서 버그가 발생하는 부분을 차을 수 있도록 반드시 테스팅 프레임 워크를 활요하는 것이 좋다. (나중에 정리)



## 3. 명명 규칙, 언어사용

- C++ 컴파일러는 다음과 같은 명명 규칙을 따른다.

>  이름의 첫 글자로 숫자가 나올 수 없다.
>
> 더블 언더스코어는 특정한 용도로 사용되기 때문에 이름에 넣을 수 없다.
>
> 언더스코어로 시작하는 이름도 특정한 용도로 사용하기 때문에 쓸 수 없다.

- 좋은 이름과 나쁜 이름

  > 변수, 메서드, 함수, 매개변수, 클래스 네임스페이스 등에서 가장 좋은 이름은 그 용도가 명확히 드러나는 것이다.
  >
  > - 두 객체를 명확히 구분할 수 있다.
  > - 전역(글로벌) 상태란 뉘앙스가 풍긴다.  {`gSettings` : 앞에 g가 붙음}
  > - 데이터 멤버의 상태란 뉘앙스가 풍긴다.   {`mSettings` : 앞에 m이 붙음}
  > - 이름 자체는 길어도 뜻은 간결하고 정확하다. {claculateMarigoldOffset()}
  > - 줄임말이 없다.
  > - 용도가 명확히 드러난다. {errormessage}

  - 카운터
    - for문에서 카운터로 사용할 변수를 i, j 보다는 outerLoopIndex, innerLoopIndex를
    - 행과 열에 대한 인덱스는 row와 column으로 표현하는 것이 좋다.
  - 게터와 세터

    - 클래스에 정의된 데이터 멤버에 접근할 때는 get 또는 set으로 시작하는 이름을 가진 함수를 사용한다.
    - 부울 타입의 멤버에 접근할 때는 is란 접두어를 붙인다.
  - 대소문자 활용
    - 변수나 데이터 멤버의 이름을 표기할 때는 소문자로 시작하고 단어 사이는 대문자로 표기하는 방식을 주로 사용한다.
    - 함수나 메소드 이름은 시작부터 대문자로 표기한다.

- 포인트 대신 레퍼런스 사용하기

  > - 메모리 주소를 직접 다루지 않고, nullptr이 될 수 없기 때문에 포인터보다 레퍼런스가 더 안전하다.
  >
  >   > 메모리를 다룰때는 스마트 포인터를 사용하자
  >
  > - 사용법이 간단해서 레퍼런스에 관련된 스타일 규칙을 따로 마련할 필요가 없다.
  >
  > - 메모리의 소유권을 명확히 표현할 수 있다는 것이다.



## 4. 포매팅(코드 서식)

보기좋은 서식을 팀원과 맞춰서 통일하고 코딩을 하자..


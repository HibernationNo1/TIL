# Vim

### mode

Vim은 세 가지의 mode가 있다.

- 일반 모드로 전환 : 

  > `Esc` 입력
  >
  > `Ctrl + [` 입력

- 명령어 모드로 전환 : `:` 입력

- 편집 모드로 전환 : 

  > `i` : 현재 cursor 위치에서 편집 모드로 전환
  >
  > `I` : 현재 cursor가 위치한 행의 왼쪽 끝에서 편집 모드로 전환
  >
  > `a` : 현재 cursor 위치에서 한 칸 다음으로 이동하며 편집 모드로 전환
  >
  > `A` : 현재 cursor가 위치한 행의 오른쪽 끝에서 편집 모드로 전환
  >
  > `o` : 현재 cursor 위치에서 한 줄 띄우면서 편집 모드로 전환
  >
  > `O` : 위로 한 줄 띄우면서 편집 모드로 전환



## 명령어 

### 명령 mode

- `:w` : 저장

  > `:w!` 강제 저장

- `: file.확장자`  : file.확장자 로 저장

- `:e` : 현재 파일을 불러옴

- `:e#` : 바로 이전에 열었던 파일을 불러옴

- `:e file.확장자 : file.확장자 파일을 불러옴

- `:q` : vim 종료

  > `:q!` : vim 강제 종료

- `:wq`  : 저장 후 종료 

  > `ZZ` : `:` 없이 사용하는 같은 동작. 대문자임  
  >
  > `:wq!` 강제 저장 후 종료

- `:number` : 특정 line으로 이동 

- `:%s/word1/word2/c` : word1에 전부 highlight가 적용되고, 1개씩 word2로 바꿀건지 물어본다. 

  >  `y` 누르면 바꾸고, `n` 누르면 안바꾸고 다음 단어로 넘어감

- `:%s/word1/word2/g` : word1 가 전부 word2로 바뀐다.

#### multi screen

- `:vs` : vim screen을 수직으로 분할

  > `Ctrl + w` : cusor의 screen 이동 mode
  >
  > cusor의 screen 이동 mode에서 `h` `j` `k` `l` 로 원하는 screen으로 cursor이동 가능
  >
  > `:q` : 분할된 창 종료
  >
  > `:enew` : 분할된 창에 한 부분이 빈 상태의 file로 변환

- `:sp` : vim screen을 수평으로 분할

- `:E` : 현재 열린 vim과 같은 위치에 있는 file들의 list를 보여준다.

  > 선택하면 해당 file을 연다.
  >
  > vim의 multi screen에서도 사용 가능
  >
  > `:q` : file list view 종료

#### 작업 자동화

`q` : 녹화할 명령어를 담을 변수 이름 지정

> `qq` 라고 치면 q라는 이름에 명령어 녹화가 저장된다.
>
> `qa` 라고 치면 a라는 이름에 명령어 녹화가 저장된다.

명령어 녹화 변수의 이름이 정해지면 녹화 시작

- 예

  `qq f ' l v ' i 12345 Ctrl+[ j 0 q`

  `q`라는  변수에 `f ' l v ' i 12345 Ctrl+[ j 0 ` 라는 명령어가 순서대로 저장된다.

  > `f'` : `'` 를 찾아 이동 후 
  >
  > `l` : 오른쪽으로 한 칸
  >
  > `v'` : `' '` 안에 있는 모든 문장에 블록 지정
  >
  > `i` : 편집모드로 전환
  >
  > `12345` : 12345 입력
  >
  > `Ctrl+[` : 일반모드로 전환
  >
  > `j` : 아래로 한 칸 이동
  >
  > `0` : 해당 줄의 맨 왼쪽으로 이동



### 일반 mode

#### move Cursor

- `h` or  `←`
- `l` or `→`
- `k` or `↑`
- `j` or `↓` 

>  가고자 하는 방향을 입력하기 전에 숫자를 입력하면 해당 숫자만큼 cursor가 이동
>
> 예시 :  `3k` 위로 3칸 이동

- `w` : 오른쪽으로 다음 문장부호나 단어의 끝 위치로 이동
- `W` : 공백 단위로 오른쪽으로 이동(공백 이후 시작 위치)



- `e` : 오른쪽으로 문장부호나 단어의 시작 위치로 이동
- `E` : 공백 단위로 오른쪽으로 이동(공백 이전 끝 위치)



- `b` : 왼쪽으로 문장부호나 단어의 끝 위치로 이동
- `B` : 공백 단위로 왼쪽으로 이동



- `0` : 커서가 있는 행 왼쪽 끝으로 이동
- `^` : 커서가 있는 행 왼쪽 글자의 시작점으로 이동

- `$` : 커서가 있는 행 오른쪽 끝으로 이동

  

- `f` : 커서가 있는 위치 기준, 오른쪽으로 f 이후 입력되는 문자가 최초 등장하는 위치로 이동 

  > `fz` : z가 처음으로 등장하는 위치로 cursor 이동
  >
  > `F` : `f` 와는 반대로 왼쪽 방향으로 이동
  >
  > - `;` : 세미콜론은 바로 이전에 동작했던 `f`cursor 이동 명령어를 바로 다시 한 번 수행한다.
  > - `,` : 콤마는 바로 이전에 동작했던 `f`cursor 이동 명령어를 왼쪽 방향으로 방향만 바꿔 다시 한 번 수행한다.

- `t` : 커서가 있는 위치 기준, 오른쪽으로 f 이후 입력되는 문자가 최초 등장하는 위치의 바로 왼쪽으로 이동

  > `tz` : z가 처음으로 등장하는 위치의 왼쪽 한 칸으로 cursor 이동
  >
  > `T` : t와는 반대로 오른쪽 방향으로 이동
  >
  > - `;` : 세미콜론은 바로 이전에 동작했던 `t`cursor 이동 명령어를 바로 다시 한 번 수행한다.
  > - `,` : 콤마는 바로 이전에 동작했던 `t`cursor 이동 명령어를 왼쪽 방향으로 방향만 바꿔 다시 한 번 수행한다.



- `Ctrl + u` : half page씩 위로 이동
- `Ctrl + d` : half page씩 아래로
- `gg` : 문서의 맨 처음으로 cursor이동
- `G` : 문서의 맨 마지막으로 cursor이동



#### search

- `/` 입력 후 찾고자 하는 word 입력

  word 검색하면 해당 단어는 highlight로 지정됨

  - `n` : 찾은 words를 기준, 아래 방향으로 하나씩 이동

    > `N` : `n` 과는 반대로 위 방향으로 하나씩 이동, `#` 도 같은 동작

- `*` : 특정 word위에서 `*` 입력 시 해당 word와 같은 word는 모드 highlight로 지정됨

- highlight 해제하는 법 : `/` 입력 후 adsf와 같이 잘 사용 안하는, 문서 내에 없는 단어 입력하면 오류 뜨면서 해제됨



#### screen scroll

cursor를 움직이지 않고 화면만 움직이기

화면 안에서 cursor가 특정 위치게 도달하게 되면 알아서 화면에 맞게 따라온다.

- `Ctrl + e` : screen 아래로 이동
- `Ctrl + y` : screen 위로 이동

  





#### visual mode

- `v` 	블록 지정. 한글파일의 Shift + ↔ 와 같음 

  > 블록 지정한 상태로 
  >
  > `iw` : 현재 cursor위치의 word에 블록 지정
  >
  > `i(` : 현재 cursor위치를 감싸고 있는 ()안에 블록 지정
  >
  > `i'` : 현재 cursor위치를 감싸고 있는 ' '안에 블록 지정
  >
  > `y` 	해당 블록 복사
  >
  > `d` 또는 `x` : 해당 블록 지우기
  
- `V` : 줄 단위로 block 지정

  > `gg` 누른 후 `V` 하고 `G` 하면 전체 지정

- `Ctrl + v` : visual block지정



#### erase

vim에서는 명령모드로 지워진 것은 모드 붙여넣기 클립보드에 저장이 된다.

- `x` : insert로 지우는 기능

- `d` : delete 지정

  > delete 지정한 상태로
  >
  > cursor 위로 이동 : 위로 두 줄 delete
  >
  > cursor 아래로 이동 : 아래로 두 줄 delete
  >
  > `d` 입력 : 해당 줄 delete
  >
  > 양 옆으로 이동 : 해당 한 글자 delete

- `D` : 현재 위치부터 오른쪽으로 끝까지 delete

  



#### duplication

- `p` : 클립보드에 저장된걸 붙여넣기

- `y` : duplication 지정

  > duplication 지정한 상태로 
  >
  > cursor 위로 이동 : 위로 두 줄 duplication 
  >
  > cursor 아래로 이동 : 아래로 두 줄 duplication 
  >
  > `d` 입력 : 해당 줄 duplication 
  >
  > 양 옆으로 이동 : 해당 한 글자 duplication 
  >
  > `iw` : 현재 cursor위치의 word를 duplication 



#### 그 외

- `J` : 다음 줄을 현재 cursor가 있는 줄 끝으로 끌어 가져옴
- `u` : `Ctrl+z` 와 같은 기능. 작업 취소
- `Ctrl + r` : 취소했던 작업 다시 실행
- `.` : 직전에 했던 작업을 한번 더 실행 
- `ciw` : 현재 cursor가 있는 단어를 지우고 편집모드로



### 편집 mode

- `Ctrl + h` : backspace와 같은 기능

